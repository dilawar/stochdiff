<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09-icedtea) on Tue Jan 22 15:19:38 EST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Diff.file_data (stochdiff 2.1.10 API)</title>
<meta name="date" content="2013-01-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Diff.file_data (stochdiff 2.1.10 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Diff.file_data.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/catacomb/util/Diff.change.html" title="class in org.catacomb.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/catacomb/util/Diff.ForwardScript.html" title="class in org.catacomb.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/catacomb/util/Diff.file_data.html" target="_top">Frames</a></li>
<li><a href="Diff.file_data.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.catacomb.util</div>
<h2 title="Class Diff.file_data" class="title">Class Diff.file_data</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.catacomb.util.Diff.file_data</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../org/catacomb/util/Diff.html" title="class in org.catacomb.util">Diff</a></dd>
</dl>
<hr>
<br>
<pre> class <span class="strong">Diff.file_data</span>
extends java.lang.Object</pre>
<div class="block">Data on one input file being compared.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#buffered_lines">buffered_lines</a></strong></code>
<div class="block">Number of elements (lines) in this file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#changed_flag">changed_flag</a></strong></code>
<div class="block">Array, indexed by real origin-1 line number,
           containing true for a line that is an insertion or a deletion.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#equivs">equivs</a></strong></code>
<div class="block">Vector, indexed by line number, containing an equivalence code for
           each line.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#nondiscarded_lines">nondiscarded_lines</a></strong></code>
<div class="block">Total number of nondiscarded lines.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#realindexes">realindexes</a></strong></code>
<div class="block">Vector mapping virtual line numbers (not counting discarded lines)
           to real ones (counting those lines).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#undiscarded">undiscarded</a></strong></code>
<div class="block">Vector, like the previous one except that
           the elements for discarded lines have been squeezed out.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#Diff.file_data(java.lang.Object[], java.util.Hashtable)">Diff.file_data</a></strong>(java.lang.Object[]&nbsp;data,
              java.util.Hashtable&lt;java.lang.Object,java.lang.Integer&gt;&nbsp;h)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#clear()">clear</a></strong>()</code>
<div class="block">Allocate changed array for the results of comparison.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#discard_confusing_lines(org.catacomb.util.Diff.file_data)">discard_confusing_lines</a></strong>(<a href="../../../org/catacomb/util/Diff.file_data.html" title="class in org.catacomb.util">Diff.file_data</a>&nbsp;f)</code>
<div class="block">Discard lines that have no matches in another file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#discard(byte[])">discard</a></strong>(byte[]&nbsp;discards)</code>
<div class="block">Actually discard the lines.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#discardable(int[])">discardable</a></strong>(int[]&nbsp;counts)</code>
<div class="block">Mark to be discarded each line that matches no line of another file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#equivCount()">equivCount</a></strong>()</code>
<div class="block">Return equiv_count[I] as the number of lines in this file
           that fall in equivalence class I.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#filterDiscards(byte[])">filterDiscards</a></strong>(byte[]&nbsp;discards)</code>
<div class="block">Don't really discard the provisional lines except when they occur
           in a run of discardables, with nonprovisionals at the beginning
           and end.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../org/catacomb/util/Diff.file_data.html#shift_boundaries(org.catacomb.util.Diff.file_data)">shift_boundaries</a></strong>(<a href="../../../org/catacomb/util/Diff.file_data.html" title="class in org.catacomb.util">Diff.file_data</a>&nbsp;f)</code>
<div class="block">Adjust inserts/deletes of blank lines to join changes
           as much as possible.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="buffered_lines">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffered_lines</h4>
<pre>final&nbsp;int buffered_lines</pre>
<div class="block">Number of elements (lines) in this file.</div>
</li>
</ul>
<a name="equivs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equivs</h4>
<pre>private final&nbsp;int[] equivs</pre>
<div class="block">Vector, indexed by line number, containing an equivalence code for
           each line.  It is this vector that is actually compared with that
           of another file to generate differences.</div>
</li>
</ul>
<a name="undiscarded">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>undiscarded</h4>
<pre>final&nbsp;int[] undiscarded</pre>
<div class="block">Vector, like the previous one except that
           the elements for discarded lines have been squeezed out.</div>
</li>
</ul>
<a name="realindexes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>realindexes</h4>
<pre>final&nbsp;int[] realindexes</pre>
<div class="block">Vector mapping virtual line numbers (not counting discarded lines)
           to real ones (counting those lines).  Both are origin-0.</div>
</li>
</ul>
<a name="nondiscarded_lines">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nondiscarded_lines</h4>
<pre>int nondiscarded_lines</pre>
<div class="block">Total number of nondiscarded lines.</div>
</li>
</ul>
<a name="changed_flag">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>changed_flag</h4>
<pre>boolean[] changed_flag</pre>
<div class="block">Array, indexed by real origin-1 line number,
           containing true for a line that is an insertion or a deletion.
           The results of comparison are stored here.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Diff.file_data(java.lang.Object[], java.util.Hashtable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Diff.file_data</h4>
<pre>Diff.file_data(java.lang.Object[]&nbsp;data,
              java.util.Hashtable&lt;java.lang.Object,java.lang.Integer&gt;&nbsp;h)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">Allocate changed array for the results of comparison.</div>
</li>
</ul>
<a name="equivCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equivCount</h4>
<pre>int[]&nbsp;equivCount()</pre>
<div class="block">Return equiv_count[I] as the number of lines in this file
           that fall in equivalence class I.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the array of equivalence class counts.</dd></dl>
</li>
</ul>
<a name="discard_confusing_lines(org.catacomb.util.Diff.file_data)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discard_confusing_lines</h4>
<pre>void&nbsp;discard_confusing_lines(<a href="../../../org/catacomb/util/Diff.file_data.html" title="class in org.catacomb.util">Diff.file_data</a>&nbsp;f)</pre>
<div class="block">Discard lines that have no matches in another file.

           A line which is discarded will not be considered by the actual
           comparison algorithm; it will be as if that line were not in the file.
           The file's `realindexes' table maps virtual line numbers
           (which don't count the discarded lines) into real line numbers;
           this is how the actual comparison algorithm produces results
           that are comprehensible when the discarded lines are counted.
        <p>
           When we discard a line, we also mark it as a deletion or insertion
           so that it will be printed in the output.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>f</code> - the other file</dd></dl>
</li>
</ul>
<a name="discardable(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardable</h4>
<pre>private&nbsp;byte[]&nbsp;discardable(int[]&nbsp;counts)</pre>
<div class="block">Mark to be discarded each line that matches no line of another file.
           If a line matches many lines, mark it as provisionally discardable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>counts</code> - The count of each equivalence number for the other file.</dd>
<dt><span class="strong">Returns:</span></dt><dd>0=nondiscardable, 1=discardable or 2=provisionally discardable
                for each line</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/catacomb/util/Diff.file_data.html#equivCount()"><code>equivCount()</code></a></dd></dl>
</li>
</ul>
<a name="filterDiscards(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterDiscards</h4>
<pre>private&nbsp;void&nbsp;filterDiscards(byte[]&nbsp;discards)</pre>
<div class="block">Don't really discard the provisional lines except when they occur
           in a run of discardables, with nonprovisionals at the beginning
           and end.</div>
</li>
</ul>
<a name="discard(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discard</h4>
<pre>private&nbsp;void&nbsp;discard(byte[]&nbsp;discards)</pre>
<div class="block">Actually discard the lines.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>discards</code> - flags lines to be discarded</dd></dl>
</li>
</ul>
<a name="shift_boundaries(org.catacomb.util.Diff.file_data)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shift_boundaries</h4>
<pre>void&nbsp;shift_boundaries(<a href="../../../org/catacomb/util/Diff.file_data.html" title="class in org.catacomb.util">Diff.file_data</a>&nbsp;f)</pre>
<div class="block">Adjust inserts/deletes of blank lines to join changes
           as much as possible.

           We do something when a run of changed lines include a blank
           line at one end and have an excluded blank line at the other.
           We are free to choose which blank line is included.
           `compareseq' always chooses the one at the beginning,
           but usually it is cleaner to consider the following blank line
           to be the "change".  The only exception is if the preceding blank line
           would join this change to other changes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>f</code> - the file being compared against</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Diff.file_data.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/catacomb/util/Diff.change.html" title="class in org.catacomb.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/catacomb/util/Diff.ForwardScript.html" title="class in org.catacomb.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/catacomb/util/Diff.file_data.html" target="_top">Frames</a></li>
<li><a href="Diff.file_data.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
